(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{115:function(e,t,n){},159:function(e,t,n){e.exports=n.p+"static/media/meeting.d93ba3a9.jpg"},172:function(e,t,n){e.exports=n(255)},196:function(e,t,n){},225:function(e,t,n){},230:function(e,t,n){},254:function(e,t,n){},255:function(e,t,n){"use strict";n.r(t);var a,o=n(0),r=n.n(o),c=n(19),i=n.n(c),l=(n(115),n(98)),s=n.n(l),u=n(147),d=n(26),m=n(12),p=n(298),h=n(56),g=n.n(h),f=n(21),b=n(92),E=n(300),x=(n(194),n(297)),v=n(299),y=n(306),w=n(303),k=n(153),C=n.n(k),j=n(154),O=n.n(j),S=n(155),I=n.n(S),R=n(291),T=n(305),L=n(296),A=n(152),z=n.n(A),D=n(294),W=(n(196),n(148)),N=n.n(W),P=function(){var e=Object(o.useRef)(),t=Object(o.useState)("#000000"),n=Object(m.a)(t,2),c=n[0],i=n[1],l=Object(o.useState)(5),s=Object(m.a)(l,2),u=s[0],d=s[1],p=Object(o.useState)(!0),h=Object(m.a)(p,2);h[0],h[1];Object(o.useEffect)((function(){if(g(),a=N.a.connect("https://colabdraw-backend.herokuapp.com/",{"force new connection":!0,reconnectionAttempts:"Infinity",timeout:10001,transports:["websocket"]}),console.log(a),localStorage.getItem("codeioboard")&&null!==e.current){var t=new Image;t.onload=function(){e.current.getContext("2d").drawImage(t,0,0)},t.src=localStorage.getItem("codeioboard"),a.emit("canvas-data",localStorage.getItem("codeioboard"))}null!==e.current&&(console.log("nhi hai null"),a.on("canvas-data",(function(t){var n=new Image;n.onload=function(){e.current&&e.current.getContext("2d").drawImage(n,0,0)},n.src=t}))),a.on("clear",(function(){e.current.getContext("2d").clearRect(0,0,e.current.width,e.current.height)}))}),[e]),Object(o.useEffect)((function(){var t=e.current.getContext("2d");t.strokeStyle=c,t.lineWidth=u}),[c,u]);var g=function(){var t=e.current.getContext("2d"),n=document.querySelector("#sketch"),o=getComputedStyle(n);e.current.width=parseInt(o.getPropertyValue("width")),e.current.height=parseInt(o.getPropertyValue("height"));var r={x:0,y:0},i={x:0,y:0};e.current.addEventListener("mousemove",(function(e){i.x=r.x,i.y=r.y,r.x=e.pageX-this.offsetLeft,r.y=e.pageY-this.offsetTop}),!1),t.lineWidth=u,t.lineJoin="round",t.lineCap="round",t.strokeStyle=c,e.current.addEventListener("mousedown",(function(t){e.current.addEventListener("mousemove",s,!1)}),!1),e.current.addEventListener("mouseup",(function(){e.current.removeEventListener("mousemove",s,!1)}),!1);var l={},s=function(){t.beginPath(),t.moveTo(i.x,i.y),t.lineTo(r.x,r.y),t.closePath(),t.stroke(),void 0!==l.timeout&&clearTimeout(l.timeout),l.timeout=setTimeout((function(){var t=e.current.toDataURL("image/png");a.emit("canvas-data",t),localStorage.setItem("codeioboard",t)}),1e3)}};return r.a.createElement("div",{style:{height:"100%"}},r.a.createElement("div",{className:"tools-section"},r.a.createElement("div",{className:"color-picker-container"},"Select Brush Color : \xa0",r.a.createElement("input",{type:"color",value:c,onChange:function(e){i(e.target.value)}})),r.a.createElement("div",{className:"brushsize-container"},"Select Brush Size : \xa0",r.a.createElement("select",{value:u,onChange:function(e){d(e.target.value)}},r.a.createElement("option",null," 5 "),r.a.createElement("option",null," 10 "),r.a.createElement("option",null," 15 "),r.a.createElement("option",null," 20 "),r.a.createElement("option",null," 25 "),r.a.createElement("option",null," 30 ")))),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return e.current.getContext("2d").clearRect(0,0,e.current.width,e.current.height),void a.emit("clear")}},"Clear all")),r.a.createElement("div",{className:"sketch",id:"sketch",style:{height:"93%"}},r.a.createElement("canvas",{className:"board",id:"board",ref:e})))},M=(n(225),function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"board-container"},r.a.createElement(P,null)))}),B=Object(R.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),U=r.a.forwardRef((function(e,t){return r.a.createElement(D.a,Object.assign({direction:"up",ref:t},e))}));function _(e){var t=e.openStatus,n=e.handleClose,a=(B(),r.a.useState(!1)),o=Object(m.a)(a,2);o[0],o[1];return r.a.createElement("div",null,r.a.createElement(T.a,{fullScreen:!0,open:t,onClose:n,TransitionComponent:U},r.a.createElement(L.a,{edge:"start",color:"inherit",onClick:n,"aria-label":"close",style:{position:"absolute",zIndex:"1",top:"18px",left:"0",padding:"0",marginLeft:"10px",background:"red"}},r.a.createElement(z.a,null)),r.a.createElement(M,null)))}var G=Object(R.a)((function(e){return{root:{"& .MuiOutlinedInput-input":{padding:"0px"}},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),J=function(e){var t=e.handleLanguage,n=e.handleReset,a=e.handleTheme,c=e.users,i=e.conState,l=e.handleConnection,s=(e.handleGithub,G(),Object(o.useState)("C++")),u=Object(m.a)(s,2),d=u[0],h=u[1],g=Object(o.useState)("material-ocean"),f=Object(m.a)(g,2),b=f[0],k=f[1],j=Object(o.useState)(!1),S=Object(m.a)(j,2),R=S[0],T=S[1];return r.a.createElement(x.a,{position:"static",style:{width:"100%",height:"100%",background:"linear-gradient(45deg,rgb(232 19 19 / 95%), rgb(0 0 0))"}},r.a.createElement(_,{openStatus:R,handleClose:function(){T(!1)}}),r.a.createElement(p.a,{container:!0,style:{padding:"0px 10px",height:"100%",display:"flex",alignItems:"center",position:"relative"}},r.a.createElement(p.a,{item:!0,style:{marginTop:"5px",height:"30px"}},r.a.createElement(v.a,{variant:"outlined",style:{width:"170px",height:"30px",borderRadius:"4px",backgroundColor:"white"}},r.a.createElement(w.a,{style:{height:"30px",padding:"0px !important"},value:d,label:"C++",onChange:function(e){h(e.target.value),t(e.target.value)}},r.a.createElement(y.a,{value:54},r.a.createElement("em",null,"C++")),r.a.createElement(y.a,{value:71},r.a.createElement("em",null,"Python"))))),r.a.createElement(p.a,{item:!0,style:{margin:"5px 0px 0px 30px",height:"30px"}},r.a.createElement(E.a,{onClick:function(){n(!0)},variant:"contained",color:"primary",style:{height:"30px"}},"Reset")),r.a.createElement(p.a,{item:!0,style:{margin:"0px 0px 5px 30px",height:"30px"}},r.a.createElement(E.a,{onClick:function(){k((function(e){return"material-ocean"===e?"neat":"material-ocean"})),a(b)}},r.a.createElement(C.a,null))),r.a.createElement(p.a,{item:!0,style:{margin:"0px 0px 5px 30px",height:"30px"}},"connected"===i?r.a.createElement(E.a,{onClick:function(){return l("disconnected")}},r.a.createElement(O.a,null)):r.a.createElement(E.a,{onClick:function(){return l("connected")}},r.a.createElement(I.a,null))),r.a.createElement(p.a,{item:!0,style:{margin:"0px 0px 5px 30px",height:"30px"}},r.a.createElement(E.a,{onClick:function(){T(!R)}},"Draw")),r.a.createElement(p.a,{item:!0,style:{margin:"0px 0px 5px 30px",display:"flex",position:"absolute",right:"10px"}},c.map((function(e){return r.a.createElement("div",{style:{color:"black",fontSize:"1.7rem",background:e.color,width:"40px",height:"40px",borderRadius:"50%",border:"2px solid white",margin:"10px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center"}},e.name&&e.name.slice(0,1))})))))},Q=n(23),H=n(160),V=n(161),q=n(156),F=n.n(q),K=n(157),X=n.n(K),Y=n(158),$=n.n(Y);n(230);n(231),n(232),n(233),n(143),n(146),n(144),n(145),n(143),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(245),n(246),n(247),n(248),n(249),n(250),n(251);var Z=n(252);var ee=function(e){var t=e.match.params,n=Object(f.g)(),a=Object(o.useState)(""),c=Object(m.a)(a,2),i=c[0],l=c[1],h=Object(o.useState)(""),x=Object(m.a)(h,2),v=(x[0],x[1]),y=Object(o.useState)("See Output Here"),w=Object(m.a)(y,2),k=w[0],C=w[1],j=Object(o.useState)(""),O=Object(m.a)(j,2),S=O[0],I=O[1],R=Object(o.useState)("C++"),T=Object(m.a)(R,2),L=T[0],A=T[1],z=Object(o.useState)(!1),D=Object(m.a)(z,2),W=(D[0],D[1]),N=Object(o.useState)("material-ocean"),P=Object(m.a)(N,2),M=P[0],B=P[1],U=Object(o.useState)("connected"),_=Object(m.a)(U,2),G=_[0],q=_[1],K=Object(o.useState)(""),Y=Object(m.a)(K,2),ee=Y[0],te=Y[1],ne=Object(o.useState)([]),ae=Object(m.a)(ne,2),oe=ae[0],re=ae[1],ce=Object(o.useRef)(),ie=Object(o.useRef)();Object(o.useEffect)((function(){if(ce.current){var e=new Q.a;ie.current=new H.a("wss://codeio-backend.herokuapp.com/",t.id,e);var n=ie.current.awareness,a=e.getText("codemirror"),o=prompt("Please enter your name",Math.floor(10*Math.random())+"User");" "===o&&(o=Math.floor(10*Math.random())+"User"),n.setLocalStateField("user",{name:o,color:F()()}),ie.current.on("status",(function(e){if(console.log(e.status),e.status,"connected"==e.status)new V.a(a,ce.current,ie.current.awareness)})),n.on("change",(function(){re([]),n.getStates().forEach((function(e){e.user&&(console.log(e.user),re((function(t){return[].concat(Object(d.a)(t),[e.user])})))}))}))}}),[]);var le=function(e){g()({method:"GET",url:"https://judge0-ce.p.rapidapi.com/submissions/".concat(e),headers:{"x-rapidapi-host":"judge0-ce.p.rapidapi.com","x-rapidapi-key":"7b3dddefe1msheb8ab51a9e386f1p114d8ejsn6f6d49dd4d69",useQueryString:!0},params:{base64_encoded:"true",fields:"*"}}).then((function(e){if(e.data.compile_output){var t=e.data.compile_output;console.log(Z.decode(t)),C(Z.decode(t))}else e.data.stdout&&C(atob(e.data.stdout))})).catch((function(e){console.log(e)}))};return r.a.createElement("div",{style:{width:"100%",height:"95vh"}},r.a.createElement(p.a,{container:!0,style:{height:"100%",width:"100%"}},r.a.createElement(p.a,{item:!0,container:!0,xs:12,sm:8,style:{height:"100%"}},r.a.createElement(p.a,{item:!0,xs:12,sm:12,style:{height:"80%",border:"4px solid black",fontSize:"15px",position:"relative"}},r.a.createElement(b.Controlled,{id:"textarea",value:i,editorDidMount:function(e){ce.current=e,e.setSize("","100%")},options:{mode:54===L?"text/x-c++src":71===L?"python":null,theme:M,lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,styleActiveLine:{nonEmpty:!0},styleActiveSelected:!0,smartIndent:!0,highlightSelectionMatches:{showToken:/\w/,annotateScrollbar:!0},autoCloseBrackets:!0,extraKeys:{"Ctrl-Q":function(e){e.foldCode(e.getCursor())},"Ctrl-/":function(e){e.execCommand(e.toggleComment())}},foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]},onBeforeChange:function(e,t,n){W(!1),l(n)}}),r.a.createElement(E.a,{onClick:function(){console.log(i),console.log(t.id,t.roomid),g()({method:"PATCH",url:"https://codeio-backend.herokuapp.com/room/save",data:{id:t.id,roomid:t.roomid,content:i}}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))},style:{position:"absolute",bottom:"15px",color:"white",zIndex:100,right:"0px"}},r.a.createElement(X.a,null)," "),r.a.createElement(E.a,{onClick:function(){var e=prompt("Please enter email of the person to invite");g()({method:"post",url:"https://codeio-backend.herokuapp.com/room/sendinvite/".concat(t.id,"/").concat(t.roomid),data:{fromEmail:n.state&&n.state[0].email,toEmail:e}}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))},style:{position:"absolute",color:"white",zIndex:100,right:"0px",top:"0px",background:"green"}},"Invite +")),r.a.createElement(p.a,{item:!0,xs:12,sm:12,style:{height:"10%",border:"4px solid black",fontSize:"15px",position:"relative"}},r.a.createElement("textarea",{id:"myInput",rows:"3",value:ee,style:{height:"91%",width:"94%"},onChange:function(e){return te(e.target.value)}}),r.a.createElement(E.a,{type:"button",onClick:function(){return function(e){var t=document.createElement("a"),n=new Blob([e],{type:"text/plain"});t.href=URL.createObjectURL(n),t.download="myNotes.txt",document.body.appendChild(t),t.click()}(ee)},value:"save",id:"save",style:{height:"100%",right:"0px",position:"absolute",background:"springgreen"}},r.a.createElement($.a,null))),r.a.createElement(p.a,{item:!0,xs:12,sm:12,style:{height:"10%",border:"2px solid black"}},r.a.createElement(J,{handleLanguage:function(e){A(e)},handleReset:function(e){l(""),W(e)},handleTheme:function(e){B(e)},users:oe,conState:G,handleConnection:function(e){q(e),"disconnected"===e?ie.current.disconnect():"connected"===e&&ie.current.connect()},handleGithub:function(){g()({url:"/git_get/",params:{username:"mudit-mhjn",repository:"gitmod",branch:"master",file:"package.py"}}).then((function(e){console.log(e.data),l(e.data.file_content)})).catch((function(e){console.log(e)}))}}))),r.a.createElement(p.a,{item:!0,container:!0,xs:12,sm:4,spacing:0,style:{height:"100%"}},r.a.createElement(p.a,{item:!0,container:!0,style:{height:"90%"}},r.a.createElement(p.a,{item:!0,xs:12,sm:12,style:{height:"50%",border:"4px solid black",fontSize:"15px"}},r.a.createElement(b.Controlled,{name:"code",value:S,editorDidMount:function(e){e.setSize("","100%")},options:{mode:"text/x-c++src",theme:M},onBeforeChange:function(e,t,n){I(n)}})),r.a.createElement(p.a,{item:!0,xs:12,sm:12,style:{height:"50%",border:"4px solid black",fontSize:"15px"}},r.a.createElement(b.Controlled,{name:"code",value:k,editorDidMount:function(e){e.setSize("","100%")},options:{mode:"text/x-c++src",theme:M}}))),r.a.createElement(p.a,{item:!0,xs:12,sm:12,className:"shadow",style:{height:"10%"}},r.a.createElement(E.a,{style:{width:"98%",height:"80%",margin:"8px 5px",borderRadius:"0px",zIndex:"100",color:"white",background:"linear-gradient(45deg,rgb(0 0 0 / 64%), rgb(18 16 24 / 97%))"},variant:"contained",onClick:function(){var e="".concat(i),t="".concat(S);g()({method:"POST",url:"https://judge0-ce.p.rapidapi.com/submissions",headers:{"content-type":"application/json","x-rapidapi-host":"judge0-ce.p.rapidapi.com","x-rapidapi-key":"7b3dddefe1msheb8ab51a9e386f1p114d8ejsn6f6d49dd4d69",accept:"application/json",useQueryString:!0},data:{language_id:L,source_code:e,stdin:t}}).then(function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.data),e.next=3,v(t.data.token);case 3:setTimeout((function(){le(t.data.token)}),3e3);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}},"Compile And Run")))))},te=n(301),ne=n(302),ae=Object(R.a)((function(e){return{root:{flexGrow:1,textAlign:"center",height:"5vh"},menuButton:{marginRight:e.spacing(2)}}})),oe=function(){var e=ae();return r.a.createElement("div",{className:e.root},r.a.createElement(x.a,{position:"static",style:{textAlign:"center",background:"linear-gradient(45deg, #171515, #7e1111)"}},r.a.createElement(te.a,{variant:"dense",style:{textAlign:"center"}},r.a.createElement(p.a,{container:!0,justify:"center"},r.a.createElement(p.a,{item:!0},r.a.createElement(ne.a,{variant:"h6",color:"inherit"},"CODEIO IDE"))))))},re=n(84),ce=n(159),ie=n.n(ce),le=function(){var e=Object(f.f)(),t=Object(o.useState)(""),n=Object(m.a)(t,2),a=n[0],c=n[1];Object(o.useEffect)((function(){var e=prompt("Please enter your email");e&&c(e)}),[]);return r.a.createElement(p.a,{style:{height:"95vh",background:"white"},container:!0},r.a.createElement(p.a,{item:!0,sm:5,style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"}},r.a.createElement("h1",{style:{color:"blue"}},"WELCOME TO CODE IO"),r.a.createElement("h3",null,"A work from anywhere ",r.a.createElement("br",null)," collaborative solution to all your programming needs."),r.a.createElement("div",null,r.a.createElement(E.a,{onClick:function(){g()({method:"POST",url:"https://codeio-backend.herokuapp.com/room/createroom",data:{email:a}}).then((function(t){console.log(t.data.roomid),e.push("/CodeIO-IDE/".concat(t.data.id,"/").concat(t.data.roomid),[{email:a}])})).catch((function(e){console.log(e)}))},style:{background:"#ff97fc",color:"white",fontWeight:"600"}},"Join Room"))),r.a.createElement(p.a,{item:!0,sm:7,style:{backgroundImage:"url('/images/meeting.jpg')"}},r.a.createElement("img",{src:ie.a,alt:"meeting",style:{height:"100%",width:"100%"}})))},se=function(){return r.a.createElement(re.a,null,r.a.createElement(oe,null),r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:"/",component:le}),r.a.createElement(f.a,{exact:!0,path:"/CodeIO-IDE",component:le}),r.a.createElement(f.a,{exact:!0,path:"/CodeIO-IDE/:id/:roomid",component:ee}))))},ue=(n(254),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function de(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(se,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/CodeIO-IDE",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/CodeIO-IDE","/service-worker.js");ue?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):de(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):de(t,e)}))}}()}},[[172,1,2]]]);
//# sourceMappingURL=main.39da8ff2.chunk.js.map